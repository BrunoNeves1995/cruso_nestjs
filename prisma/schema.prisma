generator client {
  provider = "prisma-client" // Ajuste aqui
  output   = "../src/generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

model Project {
  id String @id @default(uuid())
  name String
  description String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // 1 Project tem varias Taks
  tasks Task[]
}

enum TaskStatus {
  TODO                                                                          // em aberto
  IN_PROGRESS                                                                   // em progresso
  DONE                                                                          // concluído
}

enum TaskPriority {
  LOW                                                                           // baixa
  MEDIUM                                                                        // média
  HIGH                                                                          // alta
}

model Task {
  id String @id @default(uuid())
  title String
  description String
  status TaskStatus @default(TODO)
  priority TaskPriority @default(MEDIUM)
  dueDate DateTime?                                                             // data de vencimento
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relacionamento 1:N -> 1 projeto pode ter várias Tasks e uma tarefa pertence apenas a um Project
  projectId String
  project Project @relation(fields: [projectId], references: [id])
}
